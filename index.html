<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jagran Yuva Sansad Registration</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600&display=swap" rel="stylesheet">

  <style>
 
  /* Sticky control */
  #gt-sticky{ position:fixed; right:0; top:50%; transform:translateY(-50%); z-index:99999; }
  #gt-sticky button{
    display:block; margin:6px 0; padding:10px 14px; border:0; cursor:pointer;
    border-radius:12px 0 0 12px; font-weight:700; color:#fff; background:#111;
    box-shadow:0 8px 20px rgba(0,0,0,.18);
  }
  #gt-sticky #gt-en{ background:#2b2b2b; }
  @media (max-width:600px){ #gt-sticky button{ padding:8px 10px; } }

  :root {
    --primary: #e31e25;
    --secondary: #e46428;
    --accent: #f9b900;
    --gray: #3b3c3d;
    --dark-blue: #0d283f;
    --light: #ffffff;
    --bg-light: #f5f7fa;
    --border: #dcdcdc;
    --yellow-btn: #f9b900;
  }

  * {
    box-sizing: border-box;
    font-family: 'Inter', sans-serif;
  }

  body {
    background-color: var(--bg-light);
    margin: 0;
    padding: 0;
    color: var(--dark-blue);
  }

  .navbar {
    background: #fff;
    display: flex;
    max-width: 960px;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    border-radius: 0 0 24px 24px;
    margin: 0 auto 2rem auto;
    position: relative;
    z-index: 10;
    flex-wrap: wrap;
  }

  .navbar .logo {
    font-weight: 800;
    font-size: 1.5rem;
    color: #333;
    flex: 1 1 100%;
    text-align: center;
    margin-bottom: 0.5rem;
  }

  .navbar .nav-links {
    display: flex;
    gap: 2rem;
    align-items: center;
    justify-content: center;
    flex: 1 1 100%;
  }

  .navbar .nav-links a {
    text-decoration: none;
    color: #333;
    font-weight: 500;
  }

  .navbar .nav-links .btn {
    background: var(--yellow-btn);
    color: white;
    font-weight: 600;
    padding: 0.5rem 1.2rem;
    border-radius: 8px;
    text-decoration: none;
  }

  /* Mobile-specific styling */
  @media (max-width: 600px) {
    .navbar { padding: 1rem 1rem; }
    .navbar .logo { font-size: 1.2rem; margin-bottom: 0.8rem; }
    .navbar .nav-links { flex-direction: column; gap: 1rem; }
    .navbar .nav-links .btn { font-size: 1rem; padding: 0.6rem 1.5rem; }
  }

  /* ✅ (Fix) Remove stray brace that was here */

  @media (max-width: 768px) {
    .nav-links {
      display: none;
      flex-direction: column;
      width: 100%;
      background: white;
      padding: 1rem 0;
      position: absolute;
      top: 100%;
      left: 0;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
    }
    .nav-links.active { display: flex; }
    .navbar { flex-wrap: wrap; }
  }

  form {
    background: var(--light);
    border-radius: 12px;
    padding: 2rem;
    max-width: 960px;
    margin: auto;
    box-shadow: 0 6px 30px rgba(0, 0, 0, 0.08);
  }

  h2 {
    font-size: 1.2rem;
    color: var(--gray);
    margin-bottom: 1rem;
    border-bottom: 1px solid var(--border);
    padding-bottom: 0.5rem;
  }

  label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    font-size: 0.95rem;
  }

  input, select {
    width: 100%;
    padding: 0.65rem 0.85rem;
    border-radius: 8px;
    border: 1px solid var(--border);
    margin-bottom: 0.8rem;
    font-size: 0.95rem;
    background-color: #fff;
    color: var(--dark-blue);
  }

  /* ✅ Grid fixed to 2 columns on desktop, 1 column on mobile/tablet */
  .grid {
    display: grid;
    gap: 1.5rem;
  }
  @media (min-width: 900px) {
    .grid { grid-template-columns: 1fr 1fr; }
  }
  @media (max-width: 899.98px) {
    .grid { grid-template-columns: 1fr; }
  }

  .error-msg {
    color: red;
    font-size: 0.85rem;
    display: none;
    margin-top: -0.5rem;
    margin-bottom: 1rem;
  }

  .invalid { border-color: red !important; }

  button {
    background: linear-gradient(to right, var(--primary), var(--secondary));
    padding: 0.9rem 2rem;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 1rem;
    color: white;
    cursor: pointer;
    display: block;
    margin: 2rem auto 0;
    transition: background 0.3s ease;
  }
  button:hover { background: var(--primary); }

  /* Modal Styling */
  .modal {
    display: none;
    position: fixed;
    z-index: 9999;
    left: 0; top: 0;
    width: 100%; height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.5);
  }
  .modal-content {
    background-color: #fff;
    margin: 15% auto;
    padding: 2rem;
    border-radius: 16px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    font-size: 1.1rem;
    animation: zoomIn 0.5s ease-in-out;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }
  @keyframes zoomIn {
    0% { transform: scale(0.7); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
  @keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }
  </style>
</head>
<body>
  <div id="google_translate_element" style="display:none;"></div>

  <div id="gt-sticky" aria-live="polite">
    <button id="gt-hi" title="Translate to Hindi">हिन्दी</button>
    <button id="gt-en" title="Show original" style="display:none">EN</button>
  </div>

  <nav class="navbar" role="navigation">
    <div class="logo">Jagran Yuva Sansad Registration Form</div>
    <div class="nav-links" id="navLinks">
      <a href="https://brandmingoacademy24.github.io/JYP-website/" class="btn">Home</a>
    </div>
  </nav>

  <!-- ✨ Your original HTML form and scripts remain unchanged below this line -->
  <!-- (Keep the rest of your HTML + JS exactly as you shared) -->

  <!-- START: Original Form -->
  <form id="registrationForm" novalidate enctype="multipart/form-data">
    <div class="grid">
      <div>
        <h2>Participant 1</h2>
        <label for="name1">Name*</label>
        <input type="text" id="name1" name="name1" required pattern="^[A-Za-z ]{2,50}$" title="Only alphabets and spaces allowed (2-50 characters)" />
        <span class="error-msg"></span>
        <label for="dob1">Date of Birth*</label>
        <input type="date" id="dob1" name="dob1" max="2025-07-26" required />
        <span class="error-msg"></span>
        <label for="gender1">Gender*</label>
        <select id="gender1" name="gender1" required>
          <option value="">Select</option>
          <option>Male</option>
          <option>Female</option>
          <option>Others</option>
        </select>
        <span class="error-msg"></span>
        <label for="state1">State*</label>
        <select id="state1" name="state1" required>
          <option value="">Select State</option>
          <option>Uttar Pradesh</option>
          <option>Delhi</option>
          <option>Haryana</option>
          <option>Punjab</option>
          <option>West Bengal</option>
          <option>Jarkhand</option>
        </select>
        <span class="error-msg"></span>
        <label for="city1">City*</label>
        <select id="city1" name="city1" required>
          <option value="">Select City</option>
          <option>Gorakhpur</option>
          <option>Varanasi</option>
          <option>Paryagraj</option>
          <option>Kanpur</option>
          <option>Aligarh</option>
          <option>Meerut</option>
          <option>Lucknow</option>
          <option>Delhi</option>
          <option>Rohtak</option>
          <option>Ludhiana</option>
          <option>Siliguri</option>
          <option>Rachi</option>
        </select>
        <span class="error-msg"></span>
        <label for="university1">University*</label>
        <input type="text" id="university1" name="university1" required />
        <span class="error-msg"></span>
        <label for="college1">College*</label>
        <input type="text" id="college1" name="college1" required />
        <span class="error-msg"></span>
        <label for="course1">Course*</label>
        <select id="course1" name="course1" required>
          <option value="">Select</option>
          <option>UG</option>
          <option>PG</option>
        </select>
        <span class="error-msg"></span>
        <label for="subject1">Subject*</label>
        <input type="text" id="subject1" name="subject1" required />
        <span class="error-msg"></span>
        <label for="phone1">Phone*</label>
        <input type="tel" id="phone1" name="phone1" required pattern="^[0-9]{10}$" title="Phone number must be exactly 10 digits." />
        <span class="error-msg"></span>
        <label for="email1">Email*</label>
        <input type="email" id="email1" name="email1" required />
        <span class="error-msg"></span>
        <label for="social1">Social Media Profile (Ig/Fb/X)</label>
        <input type="url" id="social1" name="social1" />
        <span class="error-msg"></span>
        <label for="id1">Collage I Card (JPEG) Maximum file size 5 MB only*</label>
        <input type="file" id="id1" name="id1" required accept=".jpg,.jpeg" />
        <span class="error-msg"></span>
        <label for="language1">Language*</label>
        <select id="language1" name="language1" required>
          <option value="">Select</option>
          <option>Hindi</option>
          <option>English</option>
        </select>
        <span class="error-msg"></span>
      </div>

      <div>
        <h2>Participant 2</h2>
        <label for="name2">Name*</label>
        <input type="text" id="name2" name="name2" required pattern="^[A-Za-z ]{2,50}$" title="Only alphabets and spaces allowed (2-50 characters)" />
        <span class="error-msg"></span>
        <label for="dob2">Date of Birth*</label>
        <input type="date" id="dob2" name="dob2" max="2025-07-26" required />
        <span class="error-msg"></span>
        <label for="gender2">Gender*</label>
        <select id="gender2" name="gender2" required>
          <option value="">Select</option>
          <option>Male</option>
          <option>Female</option>
          <option>Others</option>
        </select>
        <span class="error-msg"></span>
        <label for="state2">State*</label>
        <select id="state2" name="state2" required>
          <option value="">Select State</option>
          <option>Uttar Pradesh</option>
          <option>Delhi</option>
          <option>Haryana</option>
          <option>Punjab</option>
          <option>West Bengal</option>
          <option>Jarkhand</option>
        </select>
        <span class="error-msg"></span>
        <label for="city2">City*</label>
        <select id="city2" name="city2" required>
          <option value="">Select City</option>
          <option>Gorakhpur</option>
          <option>Varanasi</option>
          <option>Paryagraj</option>
          <option>Kanpur</option>
          <option>Aligarh</option>
          <option>Meerut</option>
          <option>Lucknow</option>
          <option>Delhi</option>
          <option>Rohtak</option>
          <option>Ludhiana</option>
          <option>Siliguri</option>
          <option>Rachi</option>
        </select>
        <span class="error-msg"></span>
        <label for="university2">University*</label>
        <input type="text" id="university2" name="university2" required />
        <span class="error-msg"></span>
        <label for="college2">College*</label>
        <input type="text" id="college2" name="college2" required />
        <span class="error-msg"></span>
        <label for="course2">Course*</label>
        <select id="course2" name="course2" required>
          <option value="">Select</option>
          <option>UG</option>
          <option>PG</option>
        </select>
        <span class="error-msg"></span>
        <label for="subject2">Subject*</label>
        <input type="text" id="subject2" name="subject2" required />
        <span class="error-msg"></span>
        <label for="phone2">Phone*</label>
        <input type="tel" id="phone2" name="phone2" required pattern="^[0-9]{10}$" title="Phone number must be exactly 10 digits." />
        <span class="error-msg"></span>
        <label for="email2">Email*</label>
        <input type="email" id="email2" name="email2" required />
        <span class="error-msg"></span>
        <label for="social2">Social Media Profile (Ig/Fb/X)</label>
        <input type="url" id="social2" name="social2" />
        <span class="error-msg"></span>
        <label for="id2">Collage I Card (JPEG) Maximum file size 5 MB only*</label>
        <input type="file" id="id2" name="id2" required accept=".jpg,.jpeg" />
        <span class="error-msg"></span>
        <label for="language2">Language*</label>
        <select id="language2" name="language2" required>
          <option value="">Select</option>
          <option>Hindi</option>
          <option>English</option>
        </select>
        <span class="error-msg"></span>
      </div>
    </div>

    <div class="section">
      <h2>Motion</h2>
      <label for="motion">Choose a motion*</label>
      <select id="motion" name="motion" required>
        <option value="">-- Select --</option>
        <option>1. Caste census will make it easier to identify the deprived for welfare schemes.</option>
        <option>2. As much as one's share is his share</option>
        <option>3. Population law is necessary for better health care and education</option>
        <option>4. Population law will have a negative impact on the work force dividend</option>
        <option>5. The Places of Worship Act is a violation of religious freedom</option>
        <option>6. The third wave of feminism has been hastily coined</option>
        <option>7. Immigrants resist social integration</option>
        <option>8. The state should set limits on freedom of expression</option>
        <option>9. The criminal age of a minor should be revised</option>
      </select>
      <span class="error-msg"></span>
    </div>

    <button type="submit" id="submitBtn">Submit</button>
  </form>
  <!-- END: Original Form -->

  <div class="modal" id="thankYouModal">
    <div class="modal-content">
      <p id="modalMessage">Thank you for your registration!</p>
    </div>
  </div>

  <script>
    // --- Event Listeners and Main Logic --- (unchanged)
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('registrationForm');
      const submitBtn = document.getElementById('submitBtn');
      const modal = document.getElementById('thankYouModal');
      const modalMessage = document.getElementById('modalMessage');

      const today = new Date().toISOString().split('T')[0];
      document.getElementById('dob1').setAttribute('max', today);
      document.getElementById('dob2').setAttribute('max', today);

      form.querySelectorAll('[required]').forEach(field => {
        field.addEventListener('input', () => validateField(field));
        field.addEventListener('change', () => validateField(field));
        field.addEventListener('blur', () => validateField(field));
      });

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        if (!validateForm()) {
          const firstInvalid = document.querySelector('.invalid');
          if (firstInvalid) {
            firstInvalid.focus();
            firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
          return;
        }

        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';

        const formData = new FormData(form);

        try {
          const response = await fetch('submit_new', {
            method: 'POST',
            body: formData,
          });
          const data = await response.json();

          if (data.success) {
            showModal('Thank you for your registration!');
            form.reset();
            form.querySelectorAll('.invalid').forEach(field => field.classList.remove('invalid'));
            form.querySelectorAll('.error-msg').forEach(msg => {
              msg.textContent = '';
              msg.style.display = 'none';
            });
          } else {
            showModal(data.message, true);
          }
        } catch (error) {
          console.error('Error:', error);
          showModal('An unexpected error occurred. Please try again later.', true);
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Submit';
        }
      });

      function showModal(message, isError = false) {
        modalMessage.textContent = message;
        modalMessage.style.color = isError ? 'red' : '#0d283f';
        modal.style.display = 'block';
        setTimeout(() => {
          modal.style.animation = 'fadeOut 0.5s ease-in-out forwards';
          setTimeout(() => {
            modal.style.display = 'none';
            modal.style.animation = '';
          }, 500);
        }, isError ? 5000 : 3000);
      }
    });

// ===== Helpers to read current language error strings =====
function curLang(){ return (localStorage.getItem('jyp_lang') === 'hi') ? 'hi' : 'en'; }
function EM(){
  // Use LANG[lang].errorMessages if present; else fall back to EN defaults
  const dflt = {
    required: "This field is required.",
    invalidEmail: "Please enter a valid email.",
    invalidPhone: "Please enter a valid 10-digit phone number.",
    fileType: "Only JPEG files are allowed.",
    fileSize: "File size must be less than 5 MB.",
    samePhone: "Phone numbers must be different.",
    sameEmail: "Emails must be different."
  };
  try {
    return (window.LANG && LANG[curLang()] && LANG[curLang()].errorMessages) ? LANG[curLang()].errorMessages : dflt;
  } catch { return dflt; }
}

// --- Validation Functions (REPLACEMENT) ---
function validateField(field) {
  const errorMsg = field.nextElementSibling;
  let msg = "";

  // Clear browser default
  if (field.setCustomValidity) field.setCustomValidity("");

  if (field.validity.valueMissing) {
    msg = EM().required;
  } else if (field.type === "email" && field.validity.typeMismatch) {
    msg = EM().invalidEmail;
  } else if (field.type === "tel" && field.pattern && field.validity.patternMismatch) {
    msg = EM().invalidPhone;
  }

  if (msg) {
    field.classList.add('invalid');
    if (errorMsg) { errorMsg.textContent = msg; errorMsg.style.display = 'block'; }
    if (field.setCustomValidity) field.setCustomValidity(msg);
    return false;
  } else {
    field.classList.remove('invalid');
    if (errorMsg) { errorMsg.textContent = ''; errorMsg.style.display = 'none'; }
    if (field.setCustomValidity) field.setCustomValidity('');
    return true;
  }
}

function validateForm() {
  let formIsValid = true;
  const form = document.getElementById('registrationForm');
  const fields = form.querySelectorAll('[required]');

  // 1) Per-field checks
  fields.forEach(field => {
    if (!validateField(field)) formIsValid = false;
  });

  // 2) Duplicate phone numbers
  const phone1 = document.getElementById('phone1');
  const phone2 = document.getElementById('phone2');
  if (phone1 && phone2 && phone1.value && phone1.value === phone2.value) {
    phone2.classList.add('invalid');
    if (phone2.nextElementSibling) {
      phone2.nextElementSibling.textContent = EM().samePhone;
      phone2.nextElementSibling.style.display = 'block';
    }
    formIsValid = false;
  }

  // 3) Duplicate emails
  const email1 = document.getElementById('email1');
  const email2 = document.getElementById('email2');
  if (email1 && email2 && email1.value && email1.value === email2.value) {
    email2.classList.add('invalid');
    if (email2.nextElementSibling) {
      email2.nextElementSibling.textContent = EM().sameEmail;
      email2.nextElementSibling.style.display = 'block';
    }
    formIsValid = false;
  }

  // 4) File type/size checks (JPEG + <= 5MB) — using your inline helper
  const file1 = document.getElementById('id1');
  const file2 = document.getElementById('id2');
  const maxFileSize = 5 * 1024 * 1024;

  const checkFile = (fileInput) => {
    const file = fileInput?.files?.[0];
    const errorMsg = fileInput?.nextElementSibling;
    if (file) {
      if (!file.type.match('image/jpeg')) {
        fileInput.classList.add('invalid');
        if (errorMsg) { errorMsg.textContent = EM().fileType; errorMsg.style.display = 'block'; }
        return false;
      }
      if (file.size > maxFileSize) {
        fileInput.classList.add('invalid');
        if (errorMsg) { errorMsg.textContent = EM().fileSize; errorMsg.style.display = 'block'; }
        return false;
      }
    }
    return true;
  };

  if (file1 && !checkFile(file1)) formIsValid = false;
  if (file2 && !checkFile(file2)) formIsValid = false;

  return formIsValid;
}

  </script>

<script>
/* ========= Language Packs ========= */
const LANG = {
  en: {
    pageTitle: "Jagran Yuva Sansad Registration",
    navbarTitle: "Jagran Yuva Sansad Registration Form",
    navbarHome: "Home",
    sections: { p1: "Participant 1", p2: "Participant 2", motionH: "Motion" },
    labels: {
      name: "Name*",
      dob: "Date of Birth*",
      gender: "Gender*",
      state: "State*",
      city: "City*",
      university: "University*",
      college: "College*",
      course: "Course*",
      subject: "Subject*",
      phone: "Phone*",
      email: "Email*",
      social: "Social Media Profile (Ig/Fb/X)",
      idcard: "Collage I Card (JPEG) Maximum file size 5 MB only*",
      language: "Language*",
      motionL: "Choose a motion*"
    },
    placeholders: {
      name: "Enter your name",
      city: "Enter your city",
      university: "Enter university name",
      college: "Enter college name",
      subject: "Enter subject",
      phone: "10-digit number",
      email: "Enter your email",
      social: "Paste your profile link"
    },
    selects: {
      gender: ["Select", "Male", "Female", "Others"],
      course: ["Select", "UG", "PG"],
      language: ["Select", "Hindi", "English"],
      state1: ["Select State","Uttar Pradesh","Delhi","Haryana","Punjab","West Bengal","Jarkhand"],
      city1: ["Select City","Gorakhpur","Varanasi","Paryagraj","Kanpur","Aligarh","Meerut","Lucknow","Delhi","Rohtak","Ludhiana","Siliguri","Rachi"],
      state2: ["Select State","Uttar Pradesh","Delhi","Haryana","Punjab","West Bengal","Jarkhand"],
      city2: ["Select City","Gorakhpur","Varanasi","Paryagraj","Kanpur","Aligarh","Meerut","Lucknow","Delhi","Rohtak","Ludhiana","Siliguri","Rachi"],
      motion: [
        "-- Select --",
        "1. Caste census will make it easier to identify the deprived for welfare schemes.",
        "2. As much as one's share is his share",
        "3. Population law is necessary for better health care and education",
        "4. Population law will have a negative impact on the work force dividend",
        "5. The Places of Worship Act is a violation of religious freedom",
        "6. The third wave of feminism has been hastily coined",
        "7. Immigrants resist social integration",
        "8. The state should set limits on freedom of expression",
        "9. The criminal age of a minor should be revised"
      ]
    },
    errorMessages: {
      required: "This field is required.",
      invalidEmail: "Please enter a valid email.",
      invalidPhone: "Please enter a valid 10-digit phone number.",
      fileSize: "File size must be less than 5 MB.",
      fileType: "Only JPEG files are allowed.",
      invalidSocial: "Please enter a valid social profile link.",
      samePhone: "Phone numbers must be different.",
      sameEmail: "Emails must be different."
    }
  },

  hi: {
    pageTitle: "जागरण युवा संसद पंजीकरण",
    navbarTitle: "जागरण युवा संसद पंजीकरण फॉर्म",
    navbarHome: "होम",
    sections: { p1: "प्रतिभागी 1", p2: "प्रतिभागी 2", motionH: "वाद-विवाद विषय" },
    labels: {
      name: "नाम*",
      dob: "जन्म तिथि*",
      gender: "लिंग*",
      state: "राज्य*",
      city: "शहर*",
      university: "विश्वविद्यालय*",
      college: "कॉलेज*",
      course: "कोर्स*",
      subject: "विषय*",
      phone: "फ़ोन नंबर*",
      email: "ईमेल*",
      social: "सोशल मीडिया प्रोफ़ाइल (आई.जी /इफ़.बी/ एक्स)",
      idcard: "कॉलेज पहचान पत्र (JPEG, अधिकतम 5 MB)*",
      language: "वाद-विवाद की भाषा चुनें*",
      motionL: "वाद-विवाद विषय चुनें*"
    },
    placeholders: {
      name: "अपना नाम लिखें",
      city: "अपना शहर लिखें",
      university: "विश्वविद्यालय का नाम लिखें",
      college: "कॉलेज का नाम लिखें",
      subject: "विषय लिखें",
      phone: "10 अंकों का नंबर",
      email: "अपना ईमेल लिखें",
      social: "अपनी प्रोफ़ाइल लिंक पेस्ट करें"
    },
    selects: {
      gender: ["चुनें","पुरुष","महिला","अन्य"],
      course: ["चुनें","स्नातक (UG)","स्नातकोत्तर (PG)"],
      language: ["चुनें","हिंदी","अंग्रेज़ी"],
      state1: ["राज्य चुनें","उत्तर प्रदेश","दिल्ली","हरियाणा","पंजाब","पश्चिम बंगाल","झारखंड"],
      city1: ["शहर चुनें","गोरखपुर","वाराणसी","प्रयागराज","कानपुर","अलीगढ़","मेरठ","लखनऊ","दिल्ली","रोहतक","लुधियाना","सिलीगुड़ी","रांची"],
      state2: ["राज्य चुनें","उत्तर प्रदेश","दिल्ली","हरियाणा","पंजाब","पश्चिम बंगाल","झारखंड"],
      city2: ["শहर चुनें","गोरखपुर","वाराणसी","प्रयागराज","कानपुर","अलीगढ़","मेरठ","लखनऊ","दिल्ली","रोहतक","लुधियाना","सिलीगुड़ी","रांची"],
      motion: [
        "-- चुनें --",
        "जातीय जनगणना से कल्याणकारी योजनाओं के लिए वंचितों की पहचान करने में आसानी होगी।",
        "जातीय जनगणना का उद्देश्य “जिसकी जितनी भागीदारी, उसकी उतनी हिस्सेदारी” होना चाहिए।",
        "जनसंख्या कानून बेहतर स्वास्थ्य सेवा और बेहतर शिक्षा के लिए ज़रूरी है।",
        "जनसंख्या कानून “कार्यबल लाभांश” (वर्कफ़ोर्स डिविडेंड) पर नकारात्मक प्रभाव ला सकता है।",
        "पूजा स्थल अधिनियम धार्मिक स्वतंत्रता के अधिकार का उल्लंघन करता है।",
        "नारीवाद की तीसरी लहर (थर्ड वेव) जल्दबाज़ी में गढ़ा गया सिद्धांत है।",
        "अप्रवासी सामाजिक समाकलन एवं एकीकरण का प्रतिरोध करते हैं।",
        "राज्य को “अभिव्यक्ति की स्वतंत्रता” का दायरा परिभाषित करना चाहिए।",
        "आपराधिक कृत्य के मामले में नाबालिग की उम्र को संशोधित करना चाहिए।"
      ]
    },
    errorMessages: {
      required: "यह फ़ील्ड अनिवार्य है।",
      invalidEmail: "कृपया मान्य ईमेल दर्ज करें।",
      invalidPhone: "कृपया मान्य 10-अंकों का फ़ोन नंबर दर्ज करें।",
      fileSize: "फ़ाइल का आकार 5 MB से अधिक है।",
      fileType: "केवल JPEG फ़ाइलें ही स्वीकार्य हैं।",
      invalidSocial: "कृपया सही सोशल प्रोफ़ाइल लिंक दर्ज करें।",
      samePhone: "दोनों फ़ोन नंबर अलग होने चाहिए।",
      sameEmail: "दोनों ईमेल अलग होने चाहिए।"
    }
  }
};

/* ========= Utilities ========= */

  
function setText(sel, text) {
  const el = document.querySelector(sel);
  if (el && typeof text === "string") el.textContent = text;
}

function setLabel(forId, text) {
  const lab = document.querySelector(`label[for="${forId}"]`);
  if (lab) lab.textContent = text;
}

function setPlaceholder(id, text) {
  const el = document.getElementById(id);
  if (el && "placeholder" in el) el.placeholder = text;
}

function fillSelect(selectId, items) {
  const sel = document.getElementById(selectId);
  if (!sel || !Array.isArray(items)) return;
  const current = sel.value;
  sel.innerHTML = "";
  items.forEach(v => {
    const opt = document.createElement("option");
    opt.textContent = v;
    opt.value = v;
    sel.appendChild(opt);
  });
  // Try to keep previous selection if it still exists
  if ([...sel.options].some(o => o.value === current)) sel.value = current;
}

/* ========= Apply Language ========= */
function applyLang(langKey) {
  const L = LANG[langKey];

  // Title & Navbar
  document.title = L.pageTitle;
  setText(".navbar .logo", L.navbarTitle);
  const homeLink = document.querySelector(".nav-links a");
  if (homeLink) homeLink.textContent = L.navbarHome;

  // Section headings
  const h2s = document.querySelectorAll("form h2");
  if (h2s[0]) h2s[0].textContent = L.sections.p1;
  if (h2s[1]) h2s[1].textContent = L.sections.p2;
  setText('.section h2', L.sections.motionH);

  // Participant 1 labels
  setLabel("name1", L.labels.name);
  setLabel("dob1", L.labels.dob);
  setLabel("gender1", L.labels.gender);
  setLabel("state1", L.labels.state);
  setLabel("city1", L.labels.city);
  setLabel("university1", L.labels.university);
  setLabel("college1", L.labels.college);
  setLabel("course1", L.labels.course);
  setLabel("subject1", L.labels.subject);
  setLabel("phone1", L.labels.phone);
  setLabel("email1", L.labels.email);
  setLabel("social1", L.labels.social);
  setLabel("id1", L.labels.idcard);
  setLabel("language1", L.labels.language);

  // Participant 2 labels
  setLabel("name2", L.labels.name);
  setLabel("dob2", L.labels.dob);
  setLabel("gender2", L.labels.gender);
  setLabel("state2", L.labels.state);
  setLabel("city2", L.labels.city);
  setLabel("university2", L.labels.university);
  setLabel("college2", L.labels.college);
  setLabel("course2", L.labels.course);
  setLabel("subject2", L.labels.subject);
  setLabel("phone2", L.labels.phone);
  setLabel("email2", L.labels.email);
  setLabel("social2", L.labels.social);
  setLabel("id2", L.labels.idcard);
  setLabel("language2", L.labels.language);

  // Motion section label
  setLabel("motion", L.labels.motionL);

  // Placeholders (P1)
  setPlaceholder("name1", L.placeholders.name);
  setPlaceholder("city1", L.placeholders.city);
  setPlaceholder("university1", L.placeholders.university);
  setPlaceholder("college1", L.placeholders.college);
  setPlaceholder("subject1", L.placeholders.subject);
  setPlaceholder("phone1", L.placeholders.phone);
  setPlaceholder("email1", L.placeholders.email);
  setPlaceholder("social1", L.placeholders.social);

  // Placeholders (P2)
  setPlaceholder("name2", L.placeholders.name);
  setPlaceholder("city2", L.placeholders.city);
  setPlaceholder("university2", L.placeholders.university);
  setPlaceholder("college2", L.placeholders.college);
  setPlaceholder("subject2", L.placeholders.subject);
  setPlaceholder("phone2", L.placeholders.phone);
  setPlaceholder("email2", L.placeholders.email);
  setPlaceholder("social2", L.placeholders.social);

  // Select options
  fillSelect("gender1", L.selects.gender);
  fillSelect("course1", L.selects.course);
  fillSelect("language1", L.selects.language);
  fillSelect("state1", L.selects.state1);
  fillSelect("city1", L.selects.city1);

  fillSelect("gender2", L.selects.gender);
  fillSelect("course2", L.selects.course);
  fillSelect("language2", L.selects.language);
  fillSelect("state2", L.selects.state2);
  fillSelect("city2", L.selects.city2);

  fillSelect("motion", L.selects.motion);

  // Page font (optional nicer Devanagari)
  document.documentElement.setAttribute("lang", langKey === "hi" ? "hi" : "en");
  document.documentElement.style.fontFamily =
    (langKey === "hi")
      ? "'Noto Sans Devanagari', Inter, system-ui, -apple-system, Segoe UI, Roboto"
      : "Inter, system-ui, -apple-system, Segoe UI, Roboto";

  localStorage.setItem("jyp_lang", langKey);
}

/* ========= Wire up the existing sticky buttons ========= */
// Uses your existing buttons: #gt-hi and #gt-en
(function initLanguageToggle(){
  const btnHI = document.getElementById("gt-hi");
  const btnEN = document.getElementById("gt-en");

  if (btnHI) btnHI.onclick = () => { applyLang("hi"); btnHI.style.display='none'; if(btnEN) btnEN.style.display='block'; };
  if (btnEN) btnEN.onclick = () => { applyLang("en"); btnEN.style.display='none'; if(btnHI) btnHI.style.display='block'; };

  // Restore last choice or default to EN
  const saved = localStorage.getItem("jyp_lang") || "en";
  applyLang(saved);
  if (btnHI && btnEN) {
    if (saved === "hi") { btnHI.style.display='none'; btnEN.style.display='block'; }
    else { btnEN.style.display='none'; btnHI.style.display='block'; }
  }
})();
</script>
  
  <script>
function curLangKey(){ return localStorage.getItem("jyp_lang") === "hi" ? "hi" : "en"; }
function EM(){ return LANG[curLangKey()].errorMessages; } // shortcut for error messages
</script>

<script>
/* Only error messages (EN + HI) */
const ERRORS = {
  en: {
    required: "This field is required.",
    invalidEmail: "Please enter a valid email.",
    invalidPhone: "Please enter a valid 10-digit phone number.",
    fileType: "Only JPEG files are allowed.",
    fileSize: "File size must be less than 5 MB.",
    samePhone: "Phone numbers must be different.",
    sameEmail: "Emails must be different."
  },
  hi: {
    required: "यह फ़ील्ड अनिवार्य है।",
    invalidEmail: "कृपया मान्य ईमेल दर्ज करें।",
    invalidPhone: "कृपया मान्य 10-अंकों का फ़ोन नंबर दर्ज करें।",
    fileType: "केवल JPEG फ़ाइलें ही स्वीकार्य हैं।",
    fileSize: "फ़ाइल का आकार 5 MB से अधिक नहीं होना चाहिए।",
    samePhone: "दोनों फ़ोन नंबर अलग होने चाहिए।",
    sameEmail: "दोनों ईमेल अलग होने चाहिए।"
  }
};

/* Current language resolver:
   - Agar aap language toggle me localStorage 'jyp_lang' set kar rahe hain to woh use hoga.
   - Nahi to default English. */
function curLang() {
  return (localStorage.getItem("jyp_lang") === "hi") ? "hi" : "en";
}
</script>

</body>
</html>
